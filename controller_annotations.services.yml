services:
    Drupal\controller_annotations\Cache\DrupalCache:
        arguments:
            - '@cache.default'
        calls:
            - [setNamespace, ['controller_annotations']]

    Symfony\Component\Config\FileLocator:
        public: false

    Doctrine\Common\Annotations\CachedReader:
        arguments:
            - '@Doctrine\Common\Annotations\AnnotationReader'
            - '@Drupal\controller_annotations\Cache\DrupalCache'

    Doctrine\Common\Annotations\AnnotationReader:
        calls:
            - [addGlobalIgnoredName, ['endlink']]
        public: false

    Drupal\controller_annotations\EventSubscriber\ControllerEventSubscriber:
        arguments:
            - '@Doctrine\Common\Annotations\CachedReader'
        tags:
            - { name: event_subscriber }

    Drupal\controller_annotations\EventSubscriber\HttpCacheEventSubscriber:
        tags:
            - { name: event_subscriber }

    Drupal\controller_annotations\EventSubscriber\RouteEventSubscriber:
        arguments:
            - '@Symfony\Component\Routing\Loader\AnnotationDirectoryLoader'
            - '@app.root'
        tags:
            - { name: event_subscriber }

    Drupal\controller_annotations\EventSubscriber\TemplateEventSubscriber:
        arguments:
            - '@twig'
            - '@Drupal\controller_annotations\Templating\TemplateResolver'
        tags:
            - { name: event_subscriber }

    Drupal\controller_annotations\Templating\TemplateResolver:
        public: false

    Drupal\controller_annotations\Request\ParamConverter\ParamConverterManager:
        tags:
            - { name: service_collector, tag: controller_annotations.param_converter, call: add }
        public: false

    Drupal\controller_annotations\Request\ParamConverter\DateTimeParamConverter:
        tags:
            - { name: controller_annotations.param_converter, priority: 0 }
        public: false

    Drupal\controller_annotations\Request\ParamConverter\EntityParamConverter:
        arguments:
            - '@entity_type.manager'
        tags:
            - { name: controller_annotations.param_converter, priority: 10 }
        public: false

    Drupal\controller_annotations\EventSubscriber\ParamConverterEventSubscriber:
        autowire: true
        tags:
            - { name: event_subscriber }

    Symfony\Component\Routing\Loader\AnnotationDirectoryLoader:
        arguments:
            - '@Symfony\Component\Config\FileLocator'
            - '@Drupal\controller_annotations\Routing\AnnotatedRouteControllerLoader'
        public: false

    Drupal\controller_annotations\Routing\AnnotatedRouteControllerLoader:
        arguments:
            - '@Doctrine\Common\Annotations\CachedReader'
        public: false
